/*! ember-encore - v1.0.0 - 2014-06-23
 * http://github.com/mirego/ember-encore
 *
 * Copyright (c) 2014 Mirego <http://mirego.com>;
 * Licensed under the New BSD license */

define("ember-encore/adapter",["exports"],function(a){"use strict";a["default"]=DS.RESTAdapter.extend({defaultSerializer:"-encore",pathForType:function(a){return Ember.String.pluralize(Ember.String.underscore(a))},ajaxError:function(a){var b=this._super(a),c=JSON.parse(a.responseText);if(a&&422===a.status){var d=c.errors.reduce(function(a,b){return a[b.field]=b.types[0],a},{});return new DS.InvalidError(d)}return b}})}),define("ember-encore/initializer",["ember-encore/adapter","ember-encore/serializer"],function(a,b){"use strict";var c=a["default"],d=b["default"];Ember.onLoad("Ember.Application",function(a){a.initializer({name:"ember-encore",initialize:function(a){a.register("adapter:-encore",c),a.register("serializer:-encore",d)}})})}),define("ember-encore/mixins/extractor",["exports"],function(a){"use strict";var b=Ember.isArray,c=Ember.String.camelize,d=Ember.String.underscore,e=Ember.String.singularize;a["default"]=Ember.Mixin.create({camelizeKeys:function(a){for(var b in a){var d=c(b);d!=b&&(a[d]=a[b],delete a[b])}},extract:function(a,b,c,d,e){return delete c.links,this.extractLinked(c),this._super(a,b,c,d,e)},extractSingle:function(a,c,f,g,h){var i=c.typeKey;for(var j in f){var k=e(j);if(k===d(i)&&b(f[j])){f[k]=f[j][0];break}}return delete f[j],this._super(a,c,f,g,h)},extractLinks:function(a,b,d){for(var f in d.links){var g=d.links[f],h=c(f);if(g&&g.href){var i=e(c(g.type));if(a.getById(i,g.id))d[h]=g.id,delete d.links[f];else{var j=b.store.adapterFor(b).namespace;d.links[h]="/"+j+g.href,h!=f&&delete d.links[f]}}else d[h]=d.links[f],delete d.links[f]}0===Ember.keys(d.links).length&&delete d.links},extractLinked:function(a){for(var b in a.linked)a[b]?a["_"+b]=a.linked[b]:a[b]=a.linked[b];delete a.linked},normalize:function(a,b){return b=this._super(a,b),b&&b.links&&this.extractLinks(a.store,a,b),this.camelizeKeys(b),b},extractMeta:function(a,b,c){for(var d in c.meta){var e=c.meta[d];this.camelizeKeys(e),a.metaForType(b,e)}delete c.meta}})}),define("ember-encore/mixins/serializer",["exports"],function(a){"use strict";var b=Ember.get,c=Ember.isNone,d=Ember.String.underscore,e=Ember.String.classify,f=Ember.String.pluralize;a["default"]=Ember.Mixin.create({serializeIntoHash:function(a,b,c,e){a[f(d(b.typeKey))]=[this.serialize(c,e)]},keyForAttribute:function(a){return d(a)},serializeBelongsTo:function(a,e,f){var g=f.key,h=b(a,g);g=this.keyForRelationship?this.keyForRelationship(g,"belongsTo"):g,e.links||(e.links={}),e.links[d(g)]=c(h)?null:b(h,"id"),delete e[g]},serializePolymorphicType:function(a,c,d){var f=d.key,g=b(a,f);f=this.keyForAttribute?this.keyForAttribute(f):f,c[f+"_type"]=e(g.constructor.typeKey),delete c[d.key]}})}),define("ember-encore/serializer",["ember-encore/mixins/extractor","ember-encore/mixins/serializer","exports"],function(a,b,c){"use strict";var d=a["default"],e=b["default"];c["default"]=DS.RESTSerializer.extend(d,e)});